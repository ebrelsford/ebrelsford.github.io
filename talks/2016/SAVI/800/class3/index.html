<!DOCTYPE html>
<html>
    <head>
        <title>Class 3 | Advanced Interactive Web Mapping, Programming, and Design</title>
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />

        <link href='http://fonts.googleapis.com/css?family=Alegreya Sans' rel='stylesheet' type='text/css'>

        <link href="../css/pig.css" rel="stylesheet" type="text/css" />
        <link href="../css/base.css" rel="stylesheet" />

        <script src="../js/pig.js"></script>
    </head>
    <body>

        <div class="slide">
            <p>Welcome to Advanced Interactive Web Mapping, Programming, and Design, Class 3</p>
            <p>This is a web page that can be viewed as slides.</p>
            <p>→ to move forward</p>
            <p>← to go back</p>
        </div>

        <div class="slide">
            <h2>Advanced Interactive Web Mapping, Programming, and Design</h2>
            <p>Class 3</p>
            <p>Please install <a href="http://openrefine.org/" target="_blank">OpenRefine</a> (openrefine.org) while you wait for class to start.</p>
        </div>

        <div class="slide" style="background-image: url(img/lego-brick.png);">
        </div>

        <div class="slide" style="background-image: url(img/lego-brick-nubby-bits.png);">
        </div>

        <div class="slide" style="background-image: url(img/legos.gif); background-size: 50% 50%;">
        </div>

        <div class="slide" style="background-image: url(img/lego-brick-nubby-bits.png);">
            <h2>APIs are the "nubby bits" of a lego<br />&mdash;Aaron Straup Cope</h2>
            <a href="http://blog.variousbits.net/tag/mw2008/" class="source">various bits</a>
        </div>

        <div class="slide" style="background-image: url(img/lego-pharaoh.jpg);">
            <a href="http://news.nationalgeographic.com/news/2009/02/photogalleries/week-in-news-pictures-118/photo4.html" class="source">source</a>
        </div>

        <div class="slide">
            <h2>APIs let you connect to other applications</h2>
        </div>

        <div class="slide">
            <h2>Application<br />Programming<br />Interface</h2>
        </div>

        <div class="slide">
            <h2>Interface</h2>
            <p>(the "nubby bits")</p>
        </div>

        <div class="slide">
            <h2>Interface</h2>
            <p>(the "nubby bits")</p>
            <h2>for</h2>
        </div>

        <div class="slide">
            <h2>Application<br />Programming</h2>
            <p>(makin' stuff)</p>
        </div>

        <div class="slide">
            <h2>the interface is a common language between you and someone else</h2>
        </div>

        <div class="slide" style="background-image: url(img/cartodb-api.png);">
            <h2>the <a href="http://docs.cartodb.com/cartodb-platform/sql-api.html">CartoDB SQL API</a></h2>
        </div>

        <div class="slide">
            <h2>the SQL API lets you run SQL through code</h2>
        </div>

        <div class="slide" style="background-image: url(img/cartodb_sql_api1.png);">
        </div>

        <div class="slide" style="background-image: url(img/cartodb_sql_api2.png);">
        </div>

        <div class="slide">
            <h2>start with the URL <em>endpoint</em> for the API</h2>
        </div>

        <div class="slide">
            <h2>start with the URL <em>endpoint</em> for the API</h2>
            <pre><code class="wrapped">https://{account}.cartodb.com/api/v2/sql</code></pre>
        </div>

        <div class="slide">
            <h2>for me this is</h2>
            <pre><code>https://eric.cartodb.com/api/v2/sql</code></pre>
        </div>

        <div class="slide">
            <h2>then add some parameters</h2>
        </div>

        <div class="slide">
            <h2>these help you specify exactly what you want out of the API</h2>
        </div>

        <div class="slide">
            <h2>the CartoDB API has a <code>q</code> parameter that expects an SQL query</h2>
        </div>

        <div class="slide">
            <h2>parameter=value</h2>
            <pre><code>q=SELECT count(*) FROM {table_name}</code></pre>
        </div>

        <div class="slide">
            <h2>the <code>?</code> in a url lets the server know that the parameters start there</h2>
        </div>

        <div class="slide">
            <h2>think of this as asking the server a question</h2>
        </div>

        <div class="slide">
            <h2>so you end up with <code>endpoint</code> + <code>?</code> + <code>parameters</code></h2>
        </div>

        <div class="slide">
            <pre><code class="wrapped">https://{account}.cartodb.com/api/v2/sql?q=SELECT count(*) FROM {table_name}</code></pre>
        </div>

        <div class="slide">
            <h2>more concretely</h2>
            <pre><code class="wrapped">https://eric.cartodb.com/api/v2/sql?q=SELECT count(*) FROM listings</code></pre>
        </div>

        <div class="slide" style="background-image: url(img/cartodb-api-result.png);">
        </div>

        <div class="slide" style="background-image: url(img/cartodb-api-result.png);">
            <h2>JSON</h2>
        </div>

        <div class="slide" style="background-image: url(img/cartodb-api-result.png);">
            <h2>JavaScript objects and arrays, but written to a file</h2>
        </div>

        <div class="slide">
            <h2><a href="inclass.html">in-class exercise, part 1</a></h2>
        </div>

        <div class="slide">
            <h2><code>$.<a href="http://api.jquery.com/jQuery.getJSON/">getJSON</a></code></h2>
        </div>

        <div class="slide">
            <h2><code>$.getJSON</code></h2>
            <p>gets JSON data from a url in jQuery</p>
        </div>

        <div class="slide">
            <h2><code>$.getJSON(url)</code></h2>
        </div>

        <div class="slide">
            <pre><code>$.getJSON(url)
  .done(function (data) {
    // Do something with the data
  });</code></pre>
        </div>

        <div class="slide">
            <h2>promises</h2>
        </div>

        <div class="slide">
            <h2>promises are like event listeners</h2>
        </div>

        <div class="slide">
            <pre><code>$('.colors').change(function () {
  $('.box').css({
    'background-color': $(this).val()
  });
});</code></pre>
        </div>

        <div class="slide">
            <pre><code>$('.colors').<strong>change</strong>(function () {
  // Do something with the 
  // colors input
});</code></pre>
        </div>

        <div class="slide">
            <pre><code>$.getJSON(url)
  .<strong>done</strong>(function (data) {
    // Do something with the data
  });</code></pre>
        </div>

        <div class="slide">
            <pre><code>$.getJSON(url)
  .done(<strong>function (data) {
    // Do something with the data
  }</strong>);</code></pre>
            <p>only called if the request is done at some point</p>
        </div>

        <div class="slide" style="background-image: url(img/promises-cartoon.png);">
            <a class="source" href="http://mcgivery.com/promise-based-architecture-in-an-ionic-app/" target="_blank">source</a>
        </div>

        <div class="slide" style="background-image: url(img/jquery-ajax.png);">
            <h2>readings</h2>
            <a class="source" href="https://learn.jquery.com/ajax/" target="_blank">source</a>
        </div>

        <div class="slide" style="background-image: url(img/eloquent-javascript-http.png);">
            <h2>readings</h2>
            <a class="source" href="http://eloquentjavascript.net/17_http.html" target="_blank">source</a>
        </div>

        <div class="slide">
            <h2><a href="inclass.html">in-class exercise, part 2</a></h2>
        </div>

        <div class="slide">
            <h2>APIs often accept multiple parameters</h2>
        </div>

        <div class="slide">
            <h2>when they do, separate parameters using <code>&amp;</code></h2>
        </div>

        <div class="slide">
            <pre><code>http://...cartodb.com/.../sql?
  q={query}&amp;
  <strong>format=GeoJSON</strong></code></pre>
        </div>

        <div class="slide" style="background-image: url(img/api-leaflet-example.png);">
            <h2>
                <a href="http://jsbin.com/tubehi/1/edit?js,output" target="_blank">for example</a>
            </h2>
        </div>

        <div class="slide">
            <h2><code><a href="http://api.jquery.com/jQuery.param/">$.param</a></code></h2>
        </div>

        <div class="slide">
            <h2><code><a href="http://api.jquery.com/jQuery.param/">$.param</a></code></h2>
            <h2>object &rarr; url parameters</h2>
        </div>

        <div class="slide">
            <h2><pre><code>$.param({
  q: <strong>&lt;your sql&gt;</strong>,
  format: 'GeoJSON'
})</code></pre></h2>
        </div>

        <div class="slide">
            <h2><pre><code>$.param({
  q: <strong>&lt;your sql&gt;</strong>,
  format: 'GeoJSON'
})</code></pre></h2>
            <pre><code class="wrapped">q=<strong>&lt;your sql&gt;</strong>&format=GeoJSON</code></pre>
        </div>

        <div class="slide">
            <h2><a href="inclass.html">in-class exercise, part 3</a></h2>
        </div>

        <div class="slide">
            <h2>setting the text of an element in jQuery</h2>
        </div>

        <div class="slide">
            <pre><code>var total = 1021;
$('.total').text(total);

[...]

&lt;div&gt;total:
  &lt;span class="total"&gt;&lt;/span&gt;
&lt;/div&gt;</code></pre>
        </div>

        <div class="slide">
            <h2><a href="inclass.html">in-class exercise, part 4</a></h2>
        </div>

        <div class="slide">
            <h2>you can append to a document using jQuery</h2>
        </div>

        <div class="slide">
            <h2><pre><code>$('body').append(
    $('&lt;div&gt;&lt;/div&gt;').text('oh hi');           
);</code></pre></h2>
        </div>

        <div class="slide">
            <h2><pre><code>$.<a href="http://api.jquery.com/jQuery.each/">each</a></code></pre></h2>
        </div>

        <div class="slide">
            <h2><pre><code>$.each</code></pre></h2>
            <h2>run some code for each element in an array</h2>
        </div>

        <div class="slide">
            <h2><pre><code>$.each(array, function);</code></pre></h2>
        </div>

        <div class="slide">
            <h2><pre><code>var names = [...];
$.each(names, function () {
  // <strong>this</strong> contains
  // the value you're on
});</code></pre></h2>
        </div>

        <div class="slide">
            <h2><pre><code>var names = [...];
$.each(names, function () {
  // <strong>this</strong> contains
  // the value you're on
  console.log(this);
});</code></pre></h2>
        </div>

        <div class="slide" style="background-image: url(img/jquery-append-example.png);">
            <h2><a href="http://jsbin.com/waveruboyi/1/edit?js,output" target="_blank">for example</a></h2>
        </div>

        <div class="slide">
            <h2><a href="inclass.html">in-class exercise, part 5</a></h2>
        </div>

        <div class="slide">
            <h2>"API" is maybe an overused term</h2>
        </div>

        <div class="slide">
            <h2>Sometimes it describes a way of getting data</h2>
        </div>

        <div class="slide" style="background-image: url(img/cartodb-sql-api.png);">
        </div>

        <div class="slide">
            <h2>Sometimes features of a library</h2>
        </div>

        <div class="slide" style="background-image: url(img/leaflet-api.png);">
        </div>

        <div class="slide">
            <h2>For now we'll focus on getting data</h2>
        </div>

        <div class="slide" style="background-image: url(img/iron-ore.jpg);">
            <h2>For now we'll focus on getting data</h2>
            <a class="source" href="http://www.wallstreetdaily.com/2014/09/15/iron-ore/" target="_blank">Wall St Daily</a>
        </div>

        <div class="slide" style="background-image: url(img/twitter-api.png);">
            <a class="source" href="https://dev.twitter.com/rest/public/search" target="_blank">Twitter's API</a>
        </div>

        <div class="slide" style="background-image: url(img/weather-underground-api.png);">
            <a class="source" href="http://www.wunderground.com/weather/api/" target="_blank">Weather Underground</a>
        </div>

        <div class="slide" style="background-image: url(img/foursquare.png);">
            <a class="source" href="https://developer.foursquare.com/docs/venues/search" target="_blank">Foursquare</a>
        </div>

        <div class="slide" style="background-image: url(img/geoclient.png);">
            <a class="source" href="https://developer.cityofnewyork.us/api/geoclient-api" target="_blank">NYC Geoclient</a>
        </div>

        <div class="slide" style="background-image: url(img/google-geocoding-api.png);">
            <a class="source" href="https://developers.google.com/maps/documentation/geocoding/#api_key" target="_blank">Google Geocoding API</a>
        </div>

        <div class="slide" style="background-image: url(img/mashape.png);">
            <a class="source" href="https://www.mashape.com/" target="_blank">mashape</a>
        </div>

        <div class="slide" style="background-image: url(img/cooper-hewitt-open.png);">
            <a class="source" href="https://collection.cooperhewitt.org/api/methods/cooperhewitt.cafe.isOpen" target="_blank">cooper hewitt</a>
        </div>

        <div class="slide" style="background-image: url(img/cooper-hewitt-objects.png);">
            <a class="source" href="https://collection.cooperhewitt.org/api/methods/cooperhewitt.objects.getOnDisplay" target="_blank">cooper hewitt</a>
        </div>

        <div class="slide" style="background-image: url(img/cooper-hewitt-colors.png);">
            <a class="source" href="https://collection.cooperhewitt.org/api/methods/cooperhewitt.objects.getColors" target="_blank">cooper hewitt</a>
        </div>

        <div class="slide" style="background-image: url(img/public-apis.png);">
            <a class="source" href="https://github.com/toddmotto/public-apis/blob/master/README.md" target="_blank">source</a>
        </div>

        <div class="slide" style="background-image: url(img/nominatim-wiki.png);">
            <a class="source" href="http://wiki.openstreetmap.org/wiki/Nominatim">OSM wiki</a>
        </div>

        <div class="slide" style="background-image: url(img/osm-nyc-buildings.gif);">
            <a class="source" href="https://www.mapbox.com/blog/nyc-and-openstreetmap-cooperating-through-open-data/" target="_blank">Mapbox blog</a>
        </div>

        <div class="slide" style="background-image: url(img/nominatim-response.png);">
            <a class="source" href="http://nominatim.openstreetmap.org/search?format=jsonv2&q=ISC%20Building%20Brooklyn" target="_blank">example request</a>
        </div>

        <div class="slide" style="background-image: url(img/nominatim-response.png);">
            <pre><code class="wrapped">http://nominatim.openstreetmap.org/search?format=jsonv2&amp;q=ISC%20Building%20Brooklyn</code></pre>
            <a class="source" href="http://nominatim.openstreetmap.org/search?format=jsonv2&q=ISC%20Building%20Brooklyn" target="_blank">example request</a>
        </div>

    </body>
</html>

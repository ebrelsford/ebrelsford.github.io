<html>
    <head>
        <title>In-class Excercises | Introduction to GIS Software: QGIS</title>
        <link href="../style.css" rel="stylesheet" />
    </head>
    <body>
        <main>
            <header>
                <a href="..">Introduction to GIS Software: QGIS</a>
                <h1>In-class Excercises</h1>
            </header>

            <section>
                <h2>Part 1: Combining Geoprocessing Operations</h2>
                <p>Please do the following with a partner.</p>
                <ol>
                    <li>Download today's data <a href="data/data.zip">here</a>.</li>
                    <li>Open the QGIS project file <code>pa.qgs</code>.</li>
                    <li>Convert all layers to the same projection to make geoprocessing easier. Use State Plane Pennsylvania North (3650).</li>
                    <li>Count the wells in each county. Style the resulting counties layer with a graduated layer, normalize by dividing the count by the area of each county.</li>
                    <li>Use <strong>Select by location</strong> to determine how many wells are within state parks.</li>
                    <li><strong>Buffer</strong> the parks by two miles. Use <strong>Select by location</strong> to determine how many wells are within the buffered state parks.</li>
                    <li>Do the reverse of the previous. <strong>Buffer</strong> the wells by two miles. Use <strong>Select by location</strong> to determine how many state parks are within two miles of a well.</li>
                    <li><strong>Intersect</strong> counties and the Marcellus Shale layer to find the parts of counties that are in the shale.</li>
                    <li>Using the intersection, <strong>dissolve</strong> the layer by county name, calculate the area of the dissolved features, and join this area to the counties (in 3650) layer. Style the counties by percentage of area covered by the shale.</li>
                    <li>Using a similar process as above, style the counties by percentage of area within two miles of an oil or gas well.</li>
                </ol>
            </section>

            <section>
                <h2>Part 2: Geocoding</h2>
                <ol>
                    <li>Open <code>FDNY_Firehouse_Listing.csv</code> in Excel.</li>
                    <li>Add a state column and fill each cell in it with <strong>NY</strong>.</li>
                    <li>Install the <strong>MMQGIS</strong> QGIS plugin if you have not.</li>
                    <li>Geocode the spreadsheet in QGIS by going to <strong>MMQGIS &gt; Geocode &gt; Geocode CSV with Google / OpenStreetMap</strong>.</li>
                </ol>
            </section>

            <section>
                <h2>Part 3: Hexbins</h2>
                <ol>
                    <li>Open <code>Oil_Gas_Well_Historical_Production_Report.csv</code>.</li>
                    <li>Save the wells as a new layer and convert to projection <code>3650</code>.</li>
                    <li>Ensure your project is also in projection <code>3650</code>.</li>
                    <li>Install the <strong>MMQGIS</strong> QGIS plugin if you have not.</li>
                    <li>Create a hexagon layer using MMQGIS, <strong>MMQGIS &gt; Create &gt; Create Grid Lines Layer</strong>:
                        <ol>
                            <li>Browse for a location for the new shapefile.</li>
                            <li>Change the dropdown at the bottom to <strong>Hexagon</strong>.</li>
                            <li>Adjust the size of the hexagons by changing <strong>H Spacing</strong> to <code>52800</code>.</li>
                        </ol>
                    </li>
                    <li>Count the wells in the resulting hexagons using <strong>Points in polygon</strong>.</li>
                    <li>Make a choropleth with the resulting layer.</li>
                </ol>
            </section>

            <section>
                <h2>Part 4: Heatmaps</h2>
                <ol>
                    <li>Install (or enable) the <strong>Heatmap</strong> QGIS plugin if you have not already done so.</li>
                    <li>Open the wells file from the previous part.</li>
                    <li>Create a heatmap by going to <strong>Raster &gt; Heatmap &gt; Heatmap</strong>:
                        <ol>
                            <li>Select an output raster location.</li>
                            <li>Set the <strong>Radius</strong> field to <code>10560</code>.</li>
                        </ol>
                    </li>
                    <li>Style the output raster.</li>
                    <li>Make more heatmaps, adjusting:
                        <ul>
                            <li>the resolution of the raster (<strong>rows</strong> and <strong>columns</strong>)</li>
                            <li>kernel shape</li>
                        </ul>
                    </li>
                </ol>
            </section>

            <footer>
                <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Introduction to GIS Software: QGIS</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://ebrelsford.github.io/" property="cc:attributionName" rel="cc:attributionURL">Eric Brelsford</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
            </footer>
        </main>
    </body>
</html>
